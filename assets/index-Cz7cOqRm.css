:root{--bg-color: #0f172a;--sidebar-bg: rgba(30, 41, 59, .95);--preview-bg: #1e293b;--text-primary: #f8fafc;--text-secondary: #94a3b8;--accent-color: #3b82f6;--accent-hover: #2563eb;--secondary-btn-bg: rgba(59, 130, 246, .15);--secondary-btn-text: #60a5fa;--input-bg: rgba(15, 23, 42, .6);--border-color: rgba(148, 163, 184, .2);--gradient-start: #4facfe;--gradient-end: #00f2fe;--font-family: "Outfit", sans-serif}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-family);background-color:var(--bg-color);color:var(--text-primary);height:100vh;overflow:hidden}#app{width:100%;height:100%}.app-layout{display:grid;grid-template-columns:380px 1fr;height:100vh}.sidebar{background:var(--sidebar-bg);border-right:1px solid var(--border-color);padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;z-index:10;overflow:hidden}.sidebar-header h1{font-size:1.75rem;font-weight:700;margin-bottom:.5rem}.gradient-text{background:linear-gradient(135deg,var(--gradient-start),var(--gradient-end));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.drop-zone{border:2px dashed var(--border-color);border-radius:12px;padding:1.25rem;text-align:center;cursor:pointer;background:#ffffff05;transition:all .2s}.drop-zone:hover,.drop-zone.dragover{border-color:var(--accent-color);background:#3b82f60d}.drop-zone .icon{font-size:2rem;display:block;margin-bottom:.3rem}.file-info{background:#3b82f61a;border:1px solid rgba(59,130,246,.2);padding:.75rem;border-radius:8px;display:flex;justify-content:space-between;align-items:center}.file-details{display:flex;align-items:center;gap:.5rem;font-size:.9rem;overflow:hidden}.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px}.icon-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:4px}.icon-btn:hover{color:#ef4444}.controls-section{flex:1;display:flex;flex-direction:column;min-height:0;gap:.75rem}.controls-toolbar{display:flex;justify-content:space-between;align-items:center;padding-bottom:.5rem;border-bottom:1px solid var(--border-color)}.secondary-btn{background:var(--secondary-btn-bg);color:var(--secondary-btn-text);border:1px solid rgba(59,130,246,.2);border-radius:6px;padding:.4rem .8rem;font-size:.85rem;cursor:pointer;transition:all .2s}.secondary-btn:hover{background:#3b82f640}.text-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:.85rem;text-decoration:underline}.text-btn:hover{color:#ef4444}.ranges-container{display:flex;flex-direction:column;gap:.5rem;overflow-y:auto;padding-right:5px;scrollbar-width:thin}.range-row{display:grid;grid-template-columns:50px 10px 50px 1fr 25px;align-items:center;gap:.5rem;background:var(--input-bg);padding:.5rem;border-radius:8px;border:1px solid transparent;transition:all .2s}.range-row:focus-within{border-color:var(--accent-color);background:#1e293bcc}.range-row.active-row{border-color:var(--accent-color);background:#3b82f61a}.range-row input{background:#0003;border:none;border-radius:4px;color:var(--text-primary);font-family:inherit;font-size:.9rem;padding:.3rem;text-align:center;width:100%}.range-row input.input-name{text-align:left;font-size:.85rem;color:var(--text-secondary)}.range-row input.input-name:focus{color:var(--text-primary)}.range-row .separator{color:var(--text-secondary);font-size:.8rem;text-align:center}.delete-row-btn{background:none;border:none;color:var(--border-color);cursor:pointer}.delete-row-btn:hover{color:#ef4444}.action-section{padding-top:1rem;border-top:1px solid var(--border-color);background:var(--sidebar-bg);position:sticky}.status-msg{font-size:.85rem;color:var(--text-secondary);text-align:center;margin-bottom:.5rem;min-height:1.2em}.primary-btn{background:linear-gradient(135deg,var(--accent-color),var(--accent-hover));color:#fff;border:none;padding:.8rem;font-size:1rem;font-weight:600;border-radius:8px;cursor:pointer;width:100%;display:flex;justify-content:center;align-items:center;gap:.5rem}.primary-btn:disabled{opacity:.5;background:#334155;cursor:not-allowed}.preview-area{background:#0f172a;display:flex;flex-direction:column;position:relative;overflow:hidden;outline:none}.preview-area:focus .page-indicator{background:var(--accent-color)}.empty-state{text-align:center;color:var(--text-secondary);opacity:.5}.empty-state .placeholder-content span{font-size:3rem;display:block;margin-bottom:1rem}.preview-container{width:100%;flex:1;display:flex;flex-direction:column;align-items:center;padding:2rem;overflow:auto;min-height:0}.internal-scroll{overflow-y:auto;display:flex;flex-direction:column;position:relative;padding:1rem}#epubViewer{width:100%;max-width:800px;height:calc(100% - 150px);min-height:400px;background:#fff;color:#000;border-radius:4px;box-shadow:0 10px 40px #00000080;margin:0 auto;overflow-y:auto}#epubViewer iframe{width:100%;height:100%;border:none}.epub-nav-bar{display:flex;justify-content:center;align-items:center;gap:1rem;padding:.5rem;background:#0003;width:100%;flex-shrink:0}.epub-nav-btn{background:var(--sidebar-bg);color:var(--text-primary);border:1px solid var(--border-color);width:36px;height:36px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.epub-nav-btn:hover{background:var(--accent-color);border-color:var(--accent-color)}#epubChapterLabel{font-size:.9rem;color:var(--text-primary);font-weight:600}#pdfCanvas{max-width:100%;max-height:90%;box-shadow:0 20px 50px #00000080;border-radius:4px}.page-indicator{margin-top:1rem;background:#00000080;padding:.3rem .8rem;border-radius:20px;font-size:.8rem;color:#fff;transition:background .2s;text-align:center}.loading-spinner{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.tts-controls{background:#0f172af2;border-top:1px solid var(--border-color);padding:12px 16px;display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:center;flex-shrink:0}.tts-buttons{display:flex;gap:8px}.tts-btn{width:44px;height:44px;border-radius:50%;border:1px solid var(--border-color);background:var(--sidebar-bg);color:var(--text-primary);font-size:1.2rem;cursor:pointer;transition:all .2s}.tts-btn:hover{background:var(--accent-color);border-color:var(--accent-color)}.tts-btn.tts-play{width:52px;height:52px;background:var(--accent-color);border-color:var(--accent-color);font-size:1.4rem}.tts-settings{display:flex;gap:12px;align-items:center}.tts-settings label{font-size:.85rem;color:var(--text-secondary);display:flex;align-items:center;gap:6px}.tts-settings select{background:var(--input-bg);border:1px solid var(--border-color);color:var(--text-primary);padding:6px 10px;border-radius:6px;font-size:.85rem;max-width:150px}.tts-progress{font-size:.85rem;color:var(--text-secondary)}.tts-toggle-btn{background:var(--secondary-btn-bg);color:var(--secondary-btn-text);border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:.85rem;margin-right:12px;transition:all .2s}.tts-toggle-btn:hover{background:var(--accent-color);color:#fff}.tts-highlight,.pdf-line-highlight{background:var(--tts-line-color, rgba(59, 130, 246, .15))!important;border-radius:3px;transition:background .2s ease}.tts-word-highlight{background-color:var(--tts-word-color, #1e40af)!important;color:#fff!important;border-radius:2px;padding:1px 2px;box-shadow:0 0 8px var(--tts-word-color, rgba(30, 64, 175, .3));transition:all .1s ease;z-index:10}.preview-footer-panel{padding:1rem;display:flex;justify-content:center;background:#0f172acc;border-top:1px solid var(--border-color)}.ocr-section{background:#1e293b80;padding:1rem;border-radius:12px;border:1px solid var(--border-color)}.ocr-toggle{display:flex;align-items:center;justify-content:space-between}.toggle-switch{position:relative;display:flex;align-items:center;gap:.75rem;cursor:pointer}.toggle-switch input{opacity:0;width:0;height:0}.slider{position:relative;width:36px;height:20px;background-color:var(--border-color);transition:.3s;border-radius:20px}.slider:before{position:absolute;content:"";height:14px;width:14px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}input:checked+.slider{background-color:var(--accent-color)}input:checked+.slider:before{transform:translate(16px)}.label-text{font-size:.9rem;font-weight:500;color:var(--text-primary)}.ocr-options{margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--border-color);font-size:.85rem;color:var(--text-secondary)}.ocr-options select{background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-color);border-radius:4px;padding:4px 8px;font-family:inherit;margin-left:.5rem;outline:none}.tts-settings input[type=color]{width:32px;height:24px;border:none;border-radius:4px;cursor:pointer;padding:0}.hidden{display:none!important}.pdf-wrapper{position:relative;display:inline-block;margin:0 auto;box-shadow:0 10px 30px #00000080;border-radius:4px}.textLayer{position:absolute;inset:0;overflow:hidden;opacity:1;line-height:1;text-indent:0;pointer-events:none}.textLayer span,.textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%;pointer-events:auto}.textLayer ::selection{background:#3b82f64d;color:transparent}@media(max-width:900px){.app-layout{grid-template-columns:1fr;grid-template-rows:auto 1fr}.sidebar{height:50vh;border-right:none;border-bottom:1px solid var(--border-color)}.preview-area{height:50vh}}
